<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Home</title>
  </head>
  <body>
    <a href="http://localhost:5000/">remote</a>
    <script>
      open("http://localhost:5000/", "", "nodeIntegration=no");
      try {
        console.log(process);
      } catch (e) {
        document.write("node已禁用");
      }
      var os = require("os");
      var mem = process.memoryUsage();
      var format = function(bytes) {
        return (bytes / 1024 / 1024).toFixed(2) + "MB";
      };
      const sec2date = s => {
        var d = Math.floor(s / 60 / 60 / 24);
        var h = Math.floor(s / 60 / 60) % 24;
        var m = Math.floor(s / 60) % 60;
        return `${d}天${h}小时${m}分${s % 60}秒`;
      };
      document.write(
        JSON.stringify({
          "<br>现在时间": new Date(),
          "<br>系统临时目录": os.tmpdir(),
          "<br>主目录": os.homedir(),
          "<br>主机名": os.hostname(),
          "<br>总物理内存":
            Math.round(os.totalmem() / 1024 / 1024 / 1024) + " GB",
          "<br>可用物理内存":
            Math.round(os.freemem() / 1024 / 1024 / 1024) + " GB",
          "<br>CPU": os.cpus(),
          "<br>CPU架构": os.arch(),
          "<br>network": os.networkInterfaces(),
          "<br>操作系统": os.type() + os.release(),
          "<br>Node版本": process.versions,
          "<br>编译平台": process.platform + os.platform(),
          "<br>已运行": sec2date(os.uptime()),
          "<br>堆内存总量": format(mem.heapTotal),
          "<br>已用堆内存": format(mem.heapUsed),
          "<br>实际使用物理内存": format(mem.rss)
        })
      );
    </script>
  </body>
</html>
